import{a5 as b,r as i,j as u,a as m,i as y,k as I}from"./index-BFmsBeiJ.js";import{c as R,b as f}from"./index-DR-AO5Mj.js";import{a as j}from"./index-BZKvHC0X.js";import{P as v}from"./index-CZkb8Ay_.js";import{s as N}from"./index-BE2GirRn.js";import{C as k}from"./confirm-dialog-fV3H9Ygp.js";function _(a){return b({select:t=>a?.select?a.select(t.location):t.location})}function P(){return N.useSyncExternalStore(F,()=>!0,()=>!1)}function F(){return()=>{}}var g="Avatar",[M]=R(g),[T,S]=M(g),x=i.forwardRef((a,t)=>{const{__scopeAvatar:n,...r}=a,[o,e]=i.useState("idle");return u.jsx(T,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:e,children:u.jsx(v.span,{...r,ref:t})})});x.displayName=g;var L="AvatarImage",h=i.forwardRef((a,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...e}=a,c=S(L,n),s=z(r,e),l=j(d=>{o(d),c.onImageLoadingStatusChange(d)});return f(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?u.jsx(v.img,{...e,ref:t,src:r}):null});h.displayName=L;var E="AvatarFallback",w=i.forwardRef((a,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=a,e=S(E,n),[c,s]=i.useState(r===void 0);return i.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),c&&e.imageLoadingStatus!=="loaded"?u.jsx(v.span,{...o,ref:t}):null});w.displayName=E;function A(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function z(a,{referrerPolicy:t,crossOrigin:n}){const r=P(),o=i.useRef(null),e=r?(o.current||(o.current=new window.Image),o.current):null,[c,s]=i.useState(()=>A(e,a));return f(()=>{s(A(e,a))},[e,a]),f(()=>{const l=C=>()=>{s(C)};if(!e)return;const d=l("loaded"),p=l("error");return e.addEventListener("load",d),e.addEventListener("error",p),t&&(e.referrerPolicy=t),typeof n=="string"&&(e.crossOrigin=n),()=>{e.removeEventListener("load",d),e.removeEventListener("error",p)}},[e,n,t]),c}var $=x,D=h,H=w;function W({className:a,...t}){return u.jsx($,{"data-slot":"avatar",className:m("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function Y({className:a,...t}){return u.jsx(D,{"data-slot":"avatar-image",className:m("aspect-square size-full",a),...t})}function J({className:a,...t}){return u.jsx(H,{"data-slot":"avatar-fallback",className:m("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}function Q({open:a,onOpenChange:t}){const n=y(),r=_(),{auth:o}=I(),e=()=>{o.reset();const c=r.href;n({to:"/sign-in",search:{redirect:c},replace:!0})};return u.jsx(k,{open:a,onOpenChange:t,title:"Sign out",desc:"Are you sure you want to sign out? You will need to sign in again to access your account.",confirmText:"Sign out",handleConfirm:e,className:"sm:max-w-sm"})}export{W as A,Q as S,Y as a,J as b,_ as u};
