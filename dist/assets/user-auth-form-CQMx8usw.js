import{c as g,r as f,i as k,k as b,o as F,j as s,a as w,L,B as P,s as S,f as I,t as N,l as v}from"./index-BFmsBeiJ.js";import{u as y,a as A,F as C,b as i,c,d as m,e as l,f as d}from"./form-CEOKA2cd.js";import{I as E}from"./input-D56alynu.js";import{P as U}from"./password-input-C4JvPeDM.js";import{L as M}from"./loader-circle-B3sgcsGT.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],_=g("log-in",B),D=F({email:I({error:a=>a.input===""?"Please enter your email":void 0}),password:S().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long")});function q({className:a,redirectTo:u,...p}){const[r,t]=f.useState(!1),h=k(),{auth:n}=b(),o=y({resolver:A(D),defaultValues:{email:"",password:""}});function x(e){t(!0),N.promise(v(2e3),{loading:"Signing in...",success:()=>{t(!1);const j={accountNo:"ACC001",email:e.email,role:["user"],exp:Date.now()+1440*60*1e3};return n.setUser(j),n.setAccessToken("mock-access-token"),h({to:u||"/",replace:!0}),`Welcome back, ${e.email}!`},error:"Error"})}return s.jsx(C,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(x),className:w("grid gap-3",a),...p,children:[s.jsx(i,{control:o.control,name:"email",render:({field:e})=>s.jsxs(c,{children:[s.jsx(m,{children:"Email"}),s.jsx(l,{children:s.jsx(E,{placeholder:"name@example.com",...e})}),s.jsx(d,{})]})}),s.jsx(i,{control:o.control,name:"password",render:({field:e})=>s.jsxs(c,{children:[s.jsx(m,{children:"Password"}),s.jsx(l,{children:s.jsx(U,{placeholder:"********",...e})}),s.jsx(d,{}),s.jsx(L,{to:"/forgot-password",className:"text-muted-foreground text-sm font-medium hover:opacity-75 text-right block",children:"Forgot password?"})]})}),s.jsxs(P,{className:"mt-2",disabled:r,children:[r?s.jsx(M,{className:"animate-spin"}):s.jsx(_,{}),"Sign in"]})]})})}export{q as U};
